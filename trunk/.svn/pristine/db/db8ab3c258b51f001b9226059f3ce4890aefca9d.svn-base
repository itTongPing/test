<!DOCTYPE html>
<html lang="en" xmlns="://.w3.org/1999/xhtml" xmlns:th="://.thymeleaf.org">

<head>
    <meta charset="utf-8" />
    <title>入库考核</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <head th:include="decorators/tags/main" />
    <head th:include="decorators/tags/menuBaiyi" />
    <style>
    	.title_class {
		    max-width: 240px;
		    width: 240px;
		    word-break: keep-all;
		    white-space: nowrap;
		    overflow: hidden;
		    text-overflow: ellipsis;
		}
        .fixed-table-toolbar .columns {
            top: 72px;
        }
    </style>
</head>
<style>
    .normalModal_storage {
        display: none;
    }
</style>

<body class="overflow-hidden">
    <div class="wrapper no-left">
        <ul class="breadcrumb">
            <li>供应链报表</li>
            <li>入库考核</li>
        </ul>
        <div class="main-container">

            <div class="padding-md up-btn">
                <div class="fun-btn">
                   <button type="button" onclick="exportStorageList()" class="btn btn-blue marginTB-xs">导出</button>
                </div>
                <div class="smart-widget-inner">
                    <div class="search-form-div">
                        <form class="form-inline no-margin" id="queryForm" onsubmit="false" action="javascript:;">
                            <div class="search_l">
                                <div class="form-group">
                                    <label class="sr-only"></label>
                                    <input type="text" id="queryNumber" class="form-control" placeholder="入库/采购/质检单号" />
                                </div>
                                <div class="form-group">
                                    <label class="sr-only"></label>
                                    <input type="text" id="skuCode_s" class="form-control" placeholder="SKU搜索" />
                                </div>
                                <div class="form-group">
                                    <label class="sr-only"></label>
                                    <input type="text" id="inspector_name" class="form-control" placeholder="质检员搜索" />
                                </div>
                               <div class="form-group">质检时间
                                    <div class="btn-group time_length">
                                        <input size="16" type="text" id="createDateStart" name="createDateStart" value="" placeholder="开始时间" class="form-control form_datetime" data-date-format="yyyy-mm-dd"></input>
                                        <input size="16" type="text" id="createDateEnd" name="cteateDateEnd" value="" placeholder="结束时间" class="form-control form_datetime" data-date-format="yyyy-mm-dd"></input>
                                    </div>
                                </div>
								<div class="form-group">质检结果
                                    <select id="inspector_result" class="selectpicker show-tick form-control"  data-live-search="false">
                   								 <option value ='' selected = 'true'>全部</option>
                                                 <option value ='待确认' >待确认</option>
                                                 <option value ='不合格' >不合格</option>
                                                 <option value ='合格' >合格</option>
                                                 <option value ='已入库' >已入库</option>
                    				</select>
                                </div>
                                <div class="form-group">
                                    <label class="sr-only"></label>
                                    <input type="text" id="sale_name" class="form-control" placeholder="采购员搜索" />
                                </div>
                               
                                <!-- 高级搜索 -->
                                <div class="btn-group marginTB-xs advanced-search" style="float: none; display: inline-block;margin-left:12px;">
                                    <a type="button" data-toggle="dropdown" onclick="searchH()" class="uperSearch"> 高级搜索<img src="/images/new-vision/nav_right_user-name_arrow.png" /></a>
                                </div>
                            </div>
                            <div class="search_r">
                                <button id="sel-button" type="button" onclick="searchResult()" class="btn btn-success marginTB-xs">搜索</button>
                                <img class="resetbutton" src="/images/icon_Advanced-search.png" onclick="searchReset()" />
                            </div>
                            <ul class="dropdown-menu" role="menu" id="searchH" style="display: none;">
								<!-- 仓库 -->
								<div class="form-group">仓库
                                    <select id="warehouseId" class="selectpicker show-tick form-control" multiple="multiple" data-live-search="false">
                   								 <option value ='' selected = 'true'>全部</option>
                                                <option th:each="signWarehouse :${signWarehouse}" th:value="${signWarehouse.stock_id}" th:text="${signWarehouse.warehouse_name}"></option>
                    				</select>
                                </div>
                                
                                <div class="form-group">采购订单审核时间
                                    <div class="btn-group time_length">
                                        <input size="16" type="text" id="leaderCreateTimeStart" name="leaderCreateTimeStart" value="" placeholder="开始时间" class="form-control form_datetime" data-date-format="yyyy-mm-dd"></input>
                                        <input size="16" type="text" id="leaderCreateTimeEnd" name="leaderCreateTimeEnd" value="" placeholder="结束时间" class="form-control form_datetime" data-date-format="yyyy-mm-dd"></input>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="sr-only"></label>
                                    <input type="text" id="storageUserName" class="form-control" placeholder="入库员搜索" />
                                </div>
                                
                                <div class="form-group">入库时间
                                    <div class="btn-group time_length">
                                        <input size="16" type="text" id="storageCreateDateStart" name="storageCreateDateStart" value="" placeholder="开始时间" class="form-control form_datetime" data-date-format="yyyy-mm-dd"></input>
                                        <input size="16" type="text" id="storageCreateDateEnd" name="storageCreateDateEnd" value="" placeholder="结束时间" class="form-control form_datetime" data-date-format="yyyy-mm-dd"></input>
                                    </div>
                                </div>

                          
                            </ul>
                        </form>
                    </div>

                    <!-- 弹出提示框 -->
                    <div class="box">至少选择一项</div>
                    <!-- 表单 -->
                    <!-- <table id="table" data-toggle="table" class="table table-striped table-hover" data-click-to-select="true" data-query-params="query_params" style="WORD-BREAK:break-all" data-pagination="true" data-side-pagination="server" data-id-field="storageNumber" 
                        data-unique-id="storageNumber" data-page-size="20" data-page-list="[20,50,100,150,200]" data-show-columns="true" data-resizable="true" data-reorderable-columns="true">
                        <thead>
                            <tr>
                                <th data-checkbox="true"></th>
                                <th data-field="storageNumber">入库单号</th>
                                <th data-field="qualityInspectionNumber" data-class="title_class">质检单号</th>
                                <th data-field="purchaseNumber" data-class="title_class">采购单号</th>
                                <th data-field="supplierName" >供应商</th>
                                <th data-field="skuCode">sku</th>
                                <th data-field="inspectorName">质检员</th>
                                <th data-field="createUserName">入库员</th>
                                <th data-field="warehouseName">仓库名称 </th>
                                <th data-field="nondefectiveNumber" data-formatter="pcsFormatter">良品入库数量</th>
                                <th data-field="rejectsNumber" data-formatter="pcsFormatter">不良品入库数量</th>
                                <th data-field="createDate" data-formatter="timeStampToTime">入库时间</th>
                                <th data-field="type" data-formatter="typeFormatter">数据来源</th>
                                <th data-field="isStarSign" data-formatter="starFormatter">标记</th>
                            </tr>
                        </thead>
                    </table> -->
                    <table class="table-scroll table table-striped" id="table" style="margin-top: 0"> </table>
                </div>
                <!-- ./smart-widget-inner -->
            </div>
            <!-- ./padding-md -->
        </div>
        <!-- /main-container -->
		<!-- 引入页脚 -->
    	<head th:include="decorators/tags/footer_mini"/>
    </div>
    <!-- /wrapper -->

    <!--<script type="text/javascript" src="libs/js-xlsx/xlsx.core.min.js"></script>-->

    <script th:src="@{'/js/warehouseAssessment.js?v='+${version}}"></script>

    <script type="text/javascript">
        /*<![CDATA[*/
        $(document).keyup(function(event){
            var event = event || window.event; // 获取event对象
            var keyCode = event.keyCode || event.which; //获取keyCode
            //按enter键触发表格搜索
            if (keyCode == 13){
                $('#sel-button').trigger('click');
            }
        });
        function searchReset() {
            $('#queryForm')[0].reset();
            $('.selectpicker').selectpicker('val', '');
            $("#queryForm").find('.new-box').each(function() //清除所有的单选框
                {
                    $(this).parent().Val($(this).find('li').first().attr("value"));
                }
            );
        }

        

        function typeFormatter(value, row, index) {
        	var storageNumber = row.storageNumber;
            if (storageNumber.substring(0,3) == "RKB") {
                return "内部";
            }
            return "外部";
        }

       
                
        // 多选框的功能
        multipleChoice('');//该方法公共方法里有封装直接调用



        /*]]>*/
    </script>
</body>

</html>